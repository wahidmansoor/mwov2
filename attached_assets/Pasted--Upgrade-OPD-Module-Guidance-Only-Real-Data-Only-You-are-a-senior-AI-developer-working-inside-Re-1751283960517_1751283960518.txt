
Upgrade OPD Module (Guidance-Only, Real Data Only)

You are a senior AI developer working inside Replit. Your task is to **enhance the existing OPD module** of an oncology **clinical guidance app** (not an EHR). This module is used by oncologists for **evidence-based, guideline-aligned decision support** during outpatient encounters.

---

## ğŸ§­ OBJECTIVE

Upgrade the OPD module by replacing all static content with:
1. Real-time **guideline-based data** from NCCN, ASCO, ESMO, PubMed, Cochrane, and ClinicalTrials.gov
2. Structured **database-driven tables** for each clinical segment
3. Integration of **AI reasoning** to generate adaptive, personalized clinical recommendations for oncologists
4. Strictly **no EHR features** (no patient registration, vitals, documentation, or scheduling)

---

## ğŸ” ENHANCE THE FOLLOWING EXISTING SEGMENTS

You are not creating a new module, but upgrading these segments inside the current OPD module:

1. ğŸ”¬ Cancer Screening
2. ğŸ§ª Diagnostic Workup
3. ğŸ§¬ Biomarker Testing
4. ğŸ“ˆ Risk Stratification
5. ğŸ¥ Referral Guidelines

Each must use data tables, not hardcoded logic, and display structured outputs directly linked to reputable clinical sources.

---

## ğŸ“Š DATABASE TABLES TO USE (CREATE IF NEEDED)

If the following tables do not exist, create them with proper schema optimized for clinician-facing queries:

### `cancer_screening_protocols`
- `id`, `cancer_type`, `age_range`, `risk_factors`, `test_name`, `frequency`, `recommendation_strength`, `source`

### `diagnostic_workup_steps`
- `id`, `cancer_type`, `symptom_or_finding`, `imaging_or_lab`, `next_step_if_positive`, `next_step_if_negative`, `linked_stage`, `source`

### `biomarkers`
- `id`, `biomarker_name`, `cancer_type`, `positive_implication`, `negative_implication`, `testing_required`, `testing_method`, `therapy_link`, `source`

### `referral_guidelines`
- `id`, `cancer_type`, `indication`, `urgency`, `to_specialist`, `reason`, `followup_required`, `source`

### `risk_stratification_scores`
- `id`, `cancer_type`, `score_name`, `required_inputs`, `score_range`, `interpretation`, `clinical_action`, `source`

Each row must be filled using **real clinical data** extracted from official and up-to-date:
- NCCN Guidelines (PDF/API)
- ASCO Guidelines
- ESMO Recommendations
- PubMed literature
- Cochrane Reviews
- ClinicalTrials.gov data

---

## ğŸ§  AI + DB LOGIC INTEGRATION

For each segment:
- Query clinician inputs (e.g. cancer type, histology, biomarkers, symptoms)
- Query the appropriate database table
- Show evidence-linked recommendations
- Offer optional â€œAI Summarizeâ€ button for synthesis across multiple sources

---

## âŒ STRICT EXCLUSIONS

- Do NOT include:
  - Patient registration
  - Scheduling or appointments
  - EMR/EHR features
  - Progress note creation
  - Billing, prescriptions, labs

- Only include:
  - Clinical guidance interface for oncologists
  - Decision support
  - Real-world structured content from validated sources

---

## ğŸ§¾ END GOALS

- âœ… Upgrade all OPD tabs with the new logic and database-driven display
- âœ… Link each recommendation to its **source** (NCCN, ASCO, etc.)
- âœ… Generate one **consolidated markdown or JSON** documentation file showing how this new OPD module works
- âœ… Use real clinical knowledge â€“ no dummy data
